<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fast.server.mapper.UserMapper">
    <resultMap id="SystemUser" type="com.fast.server.dto.SystemUser">
        <id property="id" column="id" />
        <result property="username" column="username" />
        <result property="password" column="password" />
        <result property="avatar" column="avatar" />
        <result property="role" column="role" />
    </resultMap>
    <select id="selectOneByUsername" resultMap="SystemUser">
        select
            u.id as id, u.username as username, u.password as password, u.avatar as avatar, r.name as role from user u
        left join role r on u.role_id = r.id
        where u.username = #{username}
    </select>
</mapper>